RUN: llvm-objdump -d -symbolize %p/../Inputs/trivial-object-test.elf-x86-64 \
RUN:              | FileCheck %s -check-prefix ELF-x86-64
RUN: llvm-objdump -d -symbolize %p/../Inputs/trivial-object-test.macho-x86-64 \
RUN:              | FileCheck %s -check-prefix MACHO-x86-64

ELF-x86-64: file format ELF64-x86-64
ELF-x86-64: Disassembly of section .text:
ELF-x86-64: main:
ELF-x86-64:        0:	48 83 ec 08                                  	subq	$8, %rsp
ELF-x86-64:        4:	c7 44 24 04 00 00 00 00                      	movl	$0, 4(%rsp)
ELF-x86-64:        c:	bf 00 00 00 00                               	movl	$.rodata.str1.1, %edi
ELF-x86-64:       11:	e8 00 00 00 00                               	callq	puts-4
ELF-x86-64:       16:	30 c0                                        	xorb	%al, %al
ELF-x86-64:       18:	e8 00 00 00 00                               	callq	SomeOtherFunction-4
ELF-x86-64:       1d:	8b 44 24 04                                  	movl	4(%rsp), %eax
ELF-x86-64:       21:	48 83 c4 08                                  	addq	$8, %rsp
ELF-x86-64:       25:	c3                                           	ret

MACHO-x86-64: file format Mach-O 64-bit x86-64
MACHO-x86-64: Disassembly of section __TEXT,__text:
MACHO-x86-64: _main:
MACHO-x86-64:        0:	48 83 ec 08                                  	subq	$8, %rsp
MACHO-x86-64:        4:	c7 44 24 04 00 00 00 00                      	movl	$0, 4(%rsp)
MACHO-x86-64:        c:	48 8d 3d 00 00 00 00                         	leaq	L_.str(%rip), %rdi ## literal pool for: Hello World!
MACHO-x86-64:       13:	e8 00 00 00 00                               	callq	_puts
MACHO-x86-64:       18:	30 c0                                        	xorb	%al, %al
MACHO-x86-64:       1a:	e8 00 00 00 00                               	callq	_SomeOtherFunction
MACHO-x86-64:       1f:	8b 44 24 04                                  	movl	4(%rsp), %eax
MACHO-x86-64:       23:	48 83 c4 08                                  	addq	$8, %rsp
MACHO-x86-64:       27:	c3                                           	ret
